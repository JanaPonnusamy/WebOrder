<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nathan Medicals - Order Management</title>
    <!-- Include Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #1a202c; /* Dark background */
            background-image: linear-gradient(135deg, #1f2937 0%, #0f172a 100%);
            color: #e5e7eb;
            overflow: hidden;
        }

        .main-container {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: space-around;
            width: 100%;
            max-width: 1200px;
            padding: 2rem;
        }
        
        .intro-panel {
            flex: 1;
            padding: 2rem;
            text-align: left;
            animation: slideInLeft 1s ease-out;
        }

        .login-panel {
            flex: 1;
            max-width: 450px;
            background-color: rgba(31, 41, 55, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 1.5rem;
            padding: 2.5rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            animation: fadeInRight 1s ease-out;
        }

        .intro-panel h1 {
            font-size: 4rem;
            font-weight: 900;
            line-height: 1.1;
            color: #fff;
            margin-bottom: 1rem;
            text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .intro-panel p {
            font-size: 1.125rem;
            line-height: 1.6;
            color: #d1d5db;
        }

        .form-group {
            position: relative;
            margin-bottom: 1.5rem;
        }
        .form-group label {
            position: absolute;
            top: 0.75rem;
            left: 1rem;
            color: #6b7280;
            transition: all 0.3s ease;
            pointer-events: none;
            background-color: #1f2937;
            padding: 0 0.5rem;
            border-radius: 0.25rem;
        }
        .form-group input:focus ~ label,
        .form-group input:not(:placeholder-shown) ~ label,
        .form-group select:focus ~ label,
        .form-group select:not(:placeholder-shown) ~ label {
            top: -0.75rem;
            left: 0.5rem;
            font-size: 0.75rem;
            color: #4f46e5;
            z-index: 10;
        }
        .form-group input, .form-group select {
            padding: 0.75rem 1rem;
            width: 100%;
            border: 1px solid #374151;
            border-radius: 0.5rem;
            background-color: #1f2937;
            color: #e5e7eb;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }
        .input-icon {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        .input-icon.fa-eye-slash {
            color: #ef4444;
        }
        .btn-primary {
            background-image: linear-gradient(to right, #4f46e5 0%, #6366f1 100%);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.4);
            transform: translateY(-2px);
        }
        .tabs {
            display: flex;
            justify-content: space-around;
            margin-bottom: 2rem;
            border-bottom: 2px solid #374151;
        }
        .tab {
            padding: 0.75rem 0;
            cursor: pointer;
            transition: color 0.3s ease, border-bottom 0.3s ease;
            color: #6b7280;
            font-weight: 600;
        }
        .tab.active {
            color: #fff;
            border-bottom: 2px solid #4f46e5;
        }
        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes fadeInRight {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
                padding: 1rem;
            }
            .intro-panel {
                text-align: center;
                padding: 1rem;
            }
            .intro-panel h1 {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body class="bg-gray-900 flex items-center justify-center min-h-screen">
    <div class="main-container">
        <div class="intro-panel">
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold">Nathan Medicals</h1>
            <p class="mt-4 text-sm sm:text-base text-gray-300 max-w-lg mx-auto md:mx-0">
                We send orders through this website. Use proper authentication to log in and process your orders.
                You can download orders in Excel, text, and other formats. If any products are not available or quantities are changed, please mark them in the corresponding products.
            </p>
            <div class="mt-8 flex justify-center md:justify-start space-x-4">
                <img src="https://placehold.co/100x100/34D399/ffffff?text=Quality" alt="Quality Icon" class="rounded-full shadow-lg">
                <img src="https://placehold.co/100x100/60A5FA/ffffff?text=Service" alt="Service Icon" class="rounded-full shadow-lg">
                <img src="https://placehold.co/100x100/FCD34D/ffffff?text=Trust" alt="Trust Icon" class="rounded-full shadow-lg">
            </div>
        </div>

        <div class="login-panel">
            <div class="text-center mb-6">
                <div class="tabs">
                    <div class="tab active" data-tab="store-login">Store Login</div>
                    <div class="tab" data-tab="supplier-login">Supplier Login</div>
                </div>
            </div>

            <!-- Store Login Form -->
            <form action="/login" method="post" id="storeLoginForm">
                <div id="store-login-form-container">
                    <div class="form-group">
                        <select id="concernName" name="concernName" class="block w-full text-sm">
                            <option value="" disabled selected></option>
                        </select>
                        <label for="concernName">Store Or Branch Name</label>
                        <i class="fa-solid fa-building input-icon"></i>
                    </div>
                    <div class="form-group">
                        <input type="text" id="username" name="username" placeholder=" " class="block w-full text-sm">
                        <label for="username">Username</label>
                        <i class="fa-solid fa-user input-icon"></i>
                    </div>
                    <div class="form-group">
                        <input type="password" id="password" name="password" placeholder=" " class="block w-full text-sm">
                        <label for="password">Password</label>
                        <i class="fa-solid fa-eye input-icon" id="togglePassword"></i>
                    </div>
                </div>
                
                <div class="flex justify-between items-center mb-6 text-sm">
                    <div class="flex items-center">
                        <input type="checkbox" id="rememberMe" name="rememberMe" class="h-4 w-4 text-indigo-600 rounded">
                        <label for="rememberMe" class="ml-2 block text-gray-300">Remember me</label>
                    </div>
                    <a href="#" class="text-indigo-400 hover:text-indigo-300 transition-colors">Change Password?</a>
                </div>

                <button type="submit" class="w-full text-white font-semibold py-3 px-4 rounded-full text-lg btn-primary">
                    Login
                </button>
            </form>

            <!-- Supplier Login Form (Placeholder) -->
            <form action="/supplier-login" method="post" id="supplierLoginForm" class="hidden">
                <p class="text-center text-gray-400">Supplier login functionality is under development.</p>
                <button type="button" class="w-full text-white font-semibold py-3 px-4 rounded-full text-lg bg-gray-500 mt-4 cursor-not-allowed">
                    Coming Soon
                </button>
            </form>

            <div class="mt-6 text-center text-gray-500 text-sm">
                <p>Thanks and regards.</p>
                <p>For any queries, contact our technical team.</p>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const storeLoginForm = document.getElementById('storeLoginForm');
            const supplierLoginForm = document.getElementById('supplierLoginForm');
            const tabs = document.querySelectorAll('.tab');
            const togglePassword = document.getElementById('togglePassword');
            const passwordInput = document.getElementById('password');
            const concernNameSelect = document.getElementById('concernName');
            
            // Function to handle tab switching
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    if (tab.dataset.tab === 'store-login') {
                        storeLoginForm.classList.remove('hidden');
                        supplierLoginForm.classList.add('hidden');
                    } else {
                        storeLoginForm.classList.add('hidden');
                        supplierLoginForm.classList.remove('hidden');
                    }
                });
            });

            // Function to toggle password visibility
            togglePassword.addEventListener('click', () => {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                togglePassword.classList.toggle('fa-eye');
                togglePassword.classList.toggle('fa-eye-slash');
            });
            
            // Function to fetch and populate store names
            async function fetchAndPopulateStores() {
                try {
                    // Simulating fetch from the provided JSON file
                    const storeData = [
                        {"StoreCode": "6", "StoreName": "NMS", "StoreFullName": "Nathan Medicals S", "Address1": "Near Police Station", "Address2": "Perundurai"},
                        {"StoreCode": "7", "StoreName": "NMC", "StoreFullName": "Nathan Medicals C", "Address1": "Old Bus Stand", "Address2": "Perundurai"},
                        {"StoreCode": "8", "StoreName": "NMG", "StoreFullName": "Nathan Medicals G", "Address1": "Near Girls School", "Address2": "Perundurai"},
                        {"StoreCode": "9", "StoreName": "NMA", "StoreFullName": "Nathan Medicals", "Address1": "Near Boys School", "Address2": "Perundurai"},
                        {"StoreCode": "10", "StoreName": "SMA", "StoreFullName": "", "Address1": "", "Address2": ""}
                    ];
                    
                    storeData.forEach(store => {
                        if (store.StoreFullName) {
                            const option = document.createElement('option');
                            option.value = store.StoreFullName;
                            option.textContent = store.StoreFullName;
                            concernNameSelect.appendChild(option);
                        }
                    });
                } catch (error) {
                    console.error('Error fetching store headers:', error);
                    // This is where you would show a notification to the user
                }
            }

            // Call the function to populate stores
            fetchAndPopulateStores();

            // Handle placeholder styling for input fields
            const inputElements = document.querySelectorAll('.form-group input, .form-group select');
            inputElements.forEach(input => {
                const label = input.parentNode.querySelector('label');
                if (label && input.value !== '') {
                    input.parentNode.classList.add('focused');
                }
                
                input.addEventListener('focus', () => {
                    label.style.top = '-0.75rem';
                    label.style.left = '0.5rem';
                    label.style.fontSize = '0.75rem';
                    label.style.color = '#4f46e5';
                    label.style.zIndex = '10';
                });

                input.addEventListener('blur', () => {
                    if (input.value === '') {
                        label.style.top = '0.75rem';
                        label.style.left = '1rem';
                        label.style.fontSize = '1rem';
                        label.style.color = '#6b7280';
                        label.style.zIndex = 'auto';
                    }
                });
            });

            // Store form submission logic
            storeLoginForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                // This is where you would handle form submission, e.g., via fetch
                const formData = new FormData(storeLoginForm);
                const data = Object.fromEntries(formData.entries());
                console.log('Store login form submitted with data:', data);
                alert('Store Login submitted! Check the console for data.');
            });
            // Note: The previous version had a notification modal. I am replacing it with a simple alert for now.
        });
    </script>
</body>
</html>
